# CI/CD 란

### CI(Continuous Integration)
- 빌드/테스트를 자동화 하는 과정이다
- 새로운 코드 변경 사항이 정기적으로 빌드 및 테스트되어 공유 레포지토리에 통합되기 때문에 여러 명이 동시에 개발할 경우 충돌되는 코드 작업의 문제를 해결할 수 있다
- CI의 실행은 VCS(Version Control System)에 대한 변경 사항을 commit할 때마다 빌드와 일련의 자동 테스트가 이루어져 동작을 확인하고 보장한다
- 동작 과정
  1. 개발자가 코드를 작성하고 공유 저장소(Git)에 변경 사항을 커밋한다
  2. 그 후 CI 서버는 리포지토리를 모니터링하고 모든 변경 사항을 평가한다
  3. CI는 시스템을 구축하고 통합 및 단위 테스트를 수행한다
  4. 서버가 배포 가능한 앱을 릴리스한다
  5. CI 서버는 버전 및 빌드된 코드에 빌드 태그를 할당한다
  6. 그런 다음 CI 서버는 성공적인 빌드에 대해 개발 팀에 보고한다. 만약 테스트가 실패하면 서버는 개발 팀에 이벤트에 대해 경고를 보낸다

### CD(Continuous Deployment)
- 배포를 자동화 하는 과정이다
- 코드 변경후 CI를 성공적으로 통과한 후 수동 개입 없이 해당 변경 사항이 자동으로 production에 배포된다
- 자동화 배포 파이프라인을 구축하면 여러 번 이루어지는 배포(release)도 가능하다

### CI/CD
- ![image](https://github.com/kimho1wq/TIL/assets/15611500/8fd653f4-30b7-419d-b235-0e4593eb48dc)
- CI/CD 적용 전 
  1. 개발자들이 개발하여 코드를 수정한다
  2. 각자의 feature 브랜치에 코드를 push한다 (에러가 존재 할 수도 있다)
  3. 각자의 코드를 git에 올리고 통합(intergration or merge)한다
  4. 에러가 발생했다면 다시 어디부분에 에러가 있는지 디버깅하고 코드를 수정한다
  5. (1) ~ (4)의 과정을 반복한다
  6. 에러가 해결되었으면 배포를 시작한다. 하지만 개발자가 직접 배포과정을 거치므로 많은 시간을 소요한다
- CI/CD 적용 후
  1. 개발자들이 개발하여 feature브랜치에 코드를 push한다
  2. git push를 통해 Trigger되어 CI서버에서 알아서 Build, Test, Lint를 실행하고 결과를 전송한다
  3. 개발자들은 결과를 전송받고 에러가 난 부분이 있다면 에러부분을 수정하고 코드를 master 브랜치에 merge한다
  4. master 브랜치에 코드를 merge하고 Build, Test가 정상적으로 수행이 되었다면 CI서버에서 알아서 Deploy 과정을 수행한다
- CI/CD 종류
  - Jenkins
  - TravisCI
  - Github Actions

### Travis CI vs Jenkins 비교하기
- Jenkins
  - 젠킨스는 무료이지만 직접 전용 서버를 구축하고 유지 관리해야 한다(서버 기반)
  - 개인 프로젝트의 경우 EC2 프리티어 [swap 공간](https://repost.aws/ko/knowledge-center/ec2-memory-swap-file)으로 메모리 할당하여 무료로 사용 가능
  - Config는 사용자 정의를 사용하고 customizing이 가능하다
  - 인증, 경고 및 자격 증명과 같은 새로운 기능을 추가할 수 있다
  - 구성이 매우 많고, 제공되는 기본 설정이 없어서 복잡하다
- Travis-CI
  - 클라우드 기반으로 동작한다
  - 커스텀 옵션	적고 Config는 YAML 파일(.travis.ymi 파일)을 사용하여 간단하게 구현할 수 있다
  - Travis CI 설치의 가장 큰 단점은 상업용 계획이 $129/m에서 시작하여 상당히 비싸다
  - 또한 보안 수준이 높은 프로젝트에는 적합하지 않다
 